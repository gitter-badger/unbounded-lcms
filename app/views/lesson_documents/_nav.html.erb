<div id="cg-sidebar-container" class="o-sidebar" data-sticky-container>
  <nav id="cg-sidebar" class="o-sidebar__wrap sticky">
    <div id="cg-sidebar-xs" class="o-sidebar-xs hide-for-ipad cs-bg--<%= lesson_document.metadata['subject'].downcase %>-base">
      <div class="o-sidebar-xs__header">
        <div class="u-txt--cg-sidebar-title-type u-text--uppercase">
          <%= lesson_document.short_breadcrumb %>
        </div>
        <div class="u-txt--cg-sidebar-title">
          <%= lesson_document.metadata['title'] %>
        </div>
      </div>
      <div id="cg-sidebar-xs__action" class="o-sidebar-xs__action">
        <a><i class="ub-ellipsis fa-3x"></i></a>
      </div>
    </div>
    <div class="o-sidebar-nav__sticky-title cs-bg--<%= lesson_document.metadata['subject'].downcase %>-base">
      <div class="u-txt--cg-sidebar-title-type u-text--uppercase">
        <%= lesson_document.short_breadcrumb %>
      </div>
      <div class="o-sidebar-nav__sticky-header">
        <%= simple_format lesson_document.metadata['title'] %>
      </div>
    </div>
    <ul class="o-sidebar-nav o-sidebar-nav__menu show-for-ipad">
      <li class=o-sidebar-nav__header>
        <span>Lesson Summary</span>
        <span class="o-sidebar-nav__toggle o-sidebar-nav__toggle--show">Show All</span>
        <span class="o-sidebar-nav__toggle o-sidebar-nav__toggle--hide">Hide All</span>
      </li>
      <li><div class=o-sidebar-nav__sep></div></li>
      <% lesson_document.toc.children.each do |heading| %>
        <%= render('nav_item', heading: heading) unless heading.anchor == '1-general' %>
      <% end %>
      <li class=o-sidebar-nav__item><div class="o-sidebar-nav-item__hr"></div></li>
      <li class=o-sidebar-nav__item>
        <div class="o-sidebar-nav__item__content o-sidebar-nav__item--level1 o-sidebar-nav-item__summary">
          Total Lesson Time
          <span class="o-sidebar-nav-item__time o-sidebar-nav-item__time--summary">
            <%= toc_time(lesson_document.toc.total_time) %>
          </span>
        </div>
      </li>
    </ul>
  </nav>
</div>

<%= render partial: 'nav_modal', locals: { lesson_document: lesson_document } %>
