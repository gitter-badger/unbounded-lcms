<% url = @resource.new_record? ? :admin_resources : admin_resource_path(@resource) %>

<%= simple_nested_form_for @resource, url: url, html: { id: 'resource_form' } do |f| %>

  <%= f.input :title %>
  <%= f.input :short_title %>
  <%= f.input :subtitle %>

  <%= f.input :hidden %>

  <%= f.input :description, as: :ckeditor, input_html: { rows: 10 } %>

  <%= f.input :grade_list, collection: Tag.where_context('grades').select(:id, :name).distinct(:name), as: :select, value_method: :name, selected: @resource.grades, input_html: { class: 'selectize', id: 'grades_select', multiple: true } %>

  <%= f.input :topic_list, collection: Tag.where_context('topics').select(:id, :name).distinct(:name), as: :select, value_method: :name, selected: @resource.topics, input_html: { class: 'selectize', id: 'topics_select', multiple: true } %>

  <%= f.input :tag_list, collection: Tag.where_context('tags').select(:id, :name).distinct(:name), as: :select, value_method: :name, selected: @resource.tags, input_html: { class: 'selectize', id: 'subjects_select', multiple: true } %>

  <%= f.input :resource_type_list, collection: Tag.where_context('resource_types').select(:id, :name).distinct(:name), value_method: :name, selected: @resource.resource_types, as: :select, input_html: { class: 'selectize', id: 'resource_types_select', multiple: true } %>

  <%= f.association :standards, as: :select, input_html: { class: 'selectize', id: 'standards_select', multiple: true } %>

  <%= f.association :related_resources, as: :select, input_html: { class: 'selectize', multiple: true } %>

  <%= f.association :additional_resources, as: :select, input_html: { class: 'selectize', multiple: true } %>


  <%= f.button :submit, t('ui.save'), name: nil %>

  <% if @resource.persisted? %>
    <%= link_to t('ui.delete'), admin_resource_path(@resource), class: 'button alert', data: { confirm: t('ui.are_you_sure') }, method: :delete %>
  <% end %>
<% end %>
